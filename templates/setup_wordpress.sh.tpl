#!/bin/bash

# ==============================================================================
# AlmaLinux 9.6 で Apache + PHP 8.3 + MySQL 8.0 + WordPress 環境を構築するスクリプト
# ==============================================================================

set -e
set -o pipefail

# ------------------------------------------------------------------------------
# ユーザーが変更する変数
# ------------------------------------------------------------------------------
USER_NAME="${user_name}"
DOMAIN_NAME="${domain_name}"
SERVER_ADMIN="${server_admin}"
DB_ROOT_PASSWORD="${db_root_password}"
DB_NAME="${db_name}"
DB_USER="${db_user}"
DB_PASSWORD="${db_password}"

# ------------------------------------------------------------------------------
WORDPRESS_DIR="/var/www/vhosts/web.${DOMAIN_NAME}/public_html"

# ------------------------------------------------------------------------------
# ホスト名変更
# ------------------------------------------------------------------------------
echo "=== ホスト名を設定します ==="
hostnamectl set-hostname ${USER_NAME}-education-web01

# 以下、元のsetup_wordpress.shの残りの内容をそのまま貼り付け